{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDR,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFf,EAAyBM,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,GAAO,G,+BCL9D,MAAM,EAA+BC,OAAOC,KAAKC,OAAO,c,MCExDC,GAAAA,aAAiBC,IAAI,oCAAoC,WACvD,ICHF,MAAM,EAA+BJ,OAAOC,KAAKC,OAAO,a,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,iBCAlD,GCA+BF,OAAOC,KAAKC,OAAO,mCDAnBF,OAAOC,KAAKC,OAAO,6B,aEAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,qC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,oC,aCGxDC,IAAAA,aAAiBC,IAAI,oCAAoC,YCkCvDC,EAAAA,EAAAA,QAAOC,IAAAA,UAA2B,SAAS,SAAUC,GA4BnD,IAAMC,EAAY,CAChB,GAAM,UACN,GAAM,UACN,GAAM,KACN,GAAM,WACN,GAAM,UACN,GAAM,SACN,GAAM,YACN,GAAM,UACN,GAAM,WAIFC,EAAU,GAAGC,EAAA,SAAAC,GAGjBF,EAAQG,KACNC,EAACC,IAAM,CACLC,OAAQZ,IAAAA,KAASQ,SAAWA,EAC5BK,KAAMb,IAAAA,KAASQ,SAAWA,GAAS,eACnCM,QAAS,WACP,IAAMC,EA/EO,SAACC,EAAKC,GAC7B,IAEE,IAAIC,EAAS,IAAIC,IAAIH,GAGjBI,EAAYF,EAAOG,SAASC,MAAM,KAGlCF,EAAUG,OAAS,GACrBH,EAAUI,QAIZ,IAAIC,EAAcR,EAAe,IAAMG,EAAUM,KAAK,KAMtD,OAHAR,EAAOG,SAAWI,EAGXP,EAAOS,UAChB,CAAE,MAAOC,GAEP,OADAC,QAAQD,MAAM,eAAgBA,GACvB,IACT,CACF,CAsD2BE,CAAUC,SAASC,KAAKxB,GACvCuB,SAASC,KAAKjB,CAChB,GAECV,EAAUG,IAGjB,EAbA,IAAK,IAAMA,KAAUH,EAASE,EAAAC,GAgB9BJ,EAAMH,IACJ,SACAS,EAACuB,IAAc,CACbC,gBAAgB,sBAChBC,sBAAuBnC,IAAAA,WAAeoC,MAAM,uDAE3C9B,GAEH,GAGJ,GDtGF,G","sources":["webpack://@dhtml/flarum-language-translator/webpack/bootstrap","webpack://@dhtml/flarum-language-translator/webpack/runtime/compat get default export","webpack://@dhtml/flarum-language-translator/webpack/runtime/define property getters","webpack://@dhtml/flarum-language-translator/webpack/runtime/hasOwnProperty shorthand","webpack://@dhtml/flarum-language-translator/webpack/runtime/make namespace object","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['common/app']\"","webpack://@dhtml/flarum-language-translator/./src/common/index.ts","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['forum/app']\"","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['common/extend']\"","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['common/components/Button']\"","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['forum/components/LocaleDropdown']\"","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['common/components/HeaderSecondary']\"","webpack://@dhtml/flarum-language-translator/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@dhtml/flarum-language-translator/./src/forum/index.ts","webpack://@dhtml/flarum-language-translator/./src/forum/includes/addLanguageMenu.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('dhtml/flarum-language-translator', () => {\n  //console.log('[dhtml/flarum-language-translator] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LocaleDropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/HeaderSecondary'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SelectDropdown'];","import app from 'flarum/forum/app';\nimport addLanguageMenu from \"./includes/addLanguageMenu\";\n\napp.initializers.add('dhtml/flarum-language-translator', () => {\n  addLanguageMenu();\n});\n","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\nimport LocaleDropdown from 'flarum/forum/components/LocaleDropdown';\nimport Button from 'flarum/common/components/Button';\nimport HeaderSecondary from 'flarum/common/components/HeaderSecondary';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\n\nexport const modifyURL = (url, newSubdomain) => {\n  try {\n    // Parse the URL\n    let urlObj = new URL(url);\n\n    // Split the hostname into parts\n    let hostParts = urlObj.hostname.split('.');\n\n    // If the hostname has more than 2 parts, remove the subdomain\n    if (hostParts.length > 2) {\n      hostParts.shift(); // Remove the first part (subdomain)\n    }\n\n    // Create the new hostname with the custom subdomain\n    let newHostname = newSubdomain + '.' + hostParts.join('.');\n\n    // Update the URL object with the new hostname\n    urlObj.hostname = newHostname;\n\n    // Return the modified URL\n    return urlObj.toString();\n  } catch (error) {\n    console.error('Invalid URL:', error);\n    return null;\n  }\n};\n\nexport default function () {\n\n\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    // Clear existing items\n    //items.clear();\n\n    /*\n    const languages = {\n      \"en\": \"English\",\n      \"am\": \"አማርኛ\",\n      \"ar\": \"العربية\",\n      \"bn\": \"বাংলা\",\n      \"zh\": \"中文\",\n      \"fr\": \"Français\",\n      \"de\": \"Deutsch\",\n      \"ha\": \"Hausa\",\n      \"hi\": \"हिन्दी\",\n      \"ig\": \"Igbo\",\n      \"om\": \"Oromoo\",\n      \"pt\": \"Português\",\n      \"ru\": \"Русский\",\n      \"sn\": \"chiShona\",\n      \"es\": \"Español\",\n      \"sw\": \"Kiswahili\",\n      \"yo\": \"Yorùbá\",\n      \"zu\": \"isiZulu\"\n    };\n     */\n\n\n    const languages = {\n      \"en\": \"English\",\n      \"ar\": \"العربية\",\n      \"zh\": \"中文\",\n      \"fr\": \"Français\",\n      \"de\": \"Deutsch\",\n      \"hi\": \"हिन्दी\",\n      \"pt\": \"Português\",\n      \"ru\": \"Русский\",\n      \"es\": \"Español\",\n    };\n\n\n    const locales = [];\n\n    for (const locale in languages) {\n      locales.push(\n        <Button\n          active={app.data.locale === locale}\n          icon={app.data.locale === locale ? 'fas fa-check' : true}\n          onclick={() => {\n            const newUrl = modifyURL(location.href,locale);\n            location.href=newUrl;\n          }}\n        >\n          {languages[locale]}\n        </Button>\n      );\n    }\n\n\n    items.add(\n      'locale',\n      <SelectDropdown\n        buttonClassName=\"Button Button--link\"\n        accessibleToggleLabel={app.translator.trans('core.forum.header.locale_dropdown_accessible_label')}\n      >\n        {locales}\n      </SelectDropdown>,\n      20\n    );\n\n  });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","app","add","extend","HeaderSecondary","items","languages","locales","_loop","locale","push","m","Button","active","icon","onclick","newUrl","url","newSubdomain","urlObj","URL","hostParts","hostname","split","length","shift","newHostname","join","toString","error","console","modifyURL","location","href","SelectDropdown","buttonClassName","accessibleToggleLabel","trans"],"sourceRoot":""}